<html>
<body>


<h1>Behavior Selection</h1>

<p>With Diversity, we can also isolate patterns of transitions and determine which inputs to the system are necessary to follow those patterns.</p>

<h2>Application on the previous problem</h2>
<p>We wanted to isolate the following sequence :</p>
<ul>
<li>"detection" -> "lvllow/activation" -> "filling/flowing" -> "filled/desactivation"</li>
</ul>
<p>To do that, on the "Run Configurations..." window, we will use "Behavior Selection" and write our sequence of transitions separated by semicolons :</p>
<img src="images/behav_selec001.png" width=950, border="3">

<p>To enforce each of the transitions of our sequence to be consecutive, we must check-in "Hit Consecutive" on the "Expert" tab.</p>
<p>This is important because otherwise, Diversity could isolate a sequence with any number of "filling" between "lvllow" and "filled".</p>
<img src="images/behav_selec002.png" width=950, border="3">
<p>We will also enter "-1" for the number of "Evaluation Steps" in the "Common Criteria" tab in order to not have a limit on the behavior selection :</p>
<img src="images/behav_selec003.png" width=950, border="3">
<p>To enable the graph generation, we tick the boxes "Statemachine Graph Generation" and "Execution Graph Phase1 Generation" :</p>
<img src="images/behav_selec004.png" width=950, border="3">
<p>As we can see in the generated graph, Diversity didn't manage to find our sequence. The two yellow transtions "lvllow" and "filling" are found in a consecutive fashion but we can't find a strictly consecutive sequence "lvllow" -> "filling" -> "filled":</p>
<img src="images/behav_selec005.png" width=950, border="3">



<p>Indeed, let's imagine we want to have the following transitions : "lvllow;filling*T;filled" which means that we want the system to detect an insufficient level of water and to ask the pump for a number T of pumping cycles.</p>
<p>Logically this would mean that the level respects :</p>
<p>LVLRECO - FLOW*(T+1) &lt; lvl &le; LVLRECO - FLOW*(T) &le; LVLMIN</p>
<p>So that's it's low enough to ask for a refill but high enough to only require T pumping cycles :</p>
<p>FLOW*(T+1) &gt; quantity &ge; FLOW*T &ge; LVLRECO - LVLMIN</p>
<p>We have :</p>
<ul>
<li>For T=1 :  6 &lt; lvl &le; 8 &le; 4 which is IMPOSSIBLE  (this was the previous example)</li>
<li>For T=2 :  4 &lt; lvl &le; 6 &le; 4 which is IMPOSSIBLE</li>
<li>For T=3 :  2 &lt; lvl &le; 4 &le; 4 which is POSSIBLE</li>
<li>For T=4 :  0 &lt; lvl &le; 2 &le; 4 which is POSSIBLE</li>
<li>For T=5 : -2 &lt; lvl &le; 0 &le; 4 which is POSSIBLE</li>
</ul>

<p>Therefore what we were looking for i.e. "lvllow" -> "filling" -> "filled" is impossible.</p>

</body>
</html>