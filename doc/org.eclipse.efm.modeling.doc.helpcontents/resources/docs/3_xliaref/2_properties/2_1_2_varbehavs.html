<html>
<body>

<h1>Variable Behaviors</h1>


<h2>"@on_write" instruction block</h2>

<h3>Theory</h3>
<p>With XLIA, we can specify actions to be done when writing a new value on an existing variable. To do that, we use the "@on_write" behavior of the given variable. The syntax is the following :</p> 
<img src="images/varbehavs001.png" width=600, border="3">

<p>The instructions within the "@on_write" will be executed each type a new value is assigned to the variable. We can use that for instance :</p>
<ul>
<li>in order to count the number of times the variable is written on</li>
<li>in order to implement guards that can forbid writing on the given variable if some conditions aren't met</li>
<li>...</li>
</ul>
<p>"@on_write" is given the new value as argument. The instructions then follow between brackets.</p>

<h3>Example</h3>
<p>In the following example, we will consider a news agency that receives pieces of news. It forwards those news to specialized agencies. If a specialized agencies doesn't have a valid topic, it begins investigating. We'll use the "@on_write" to implement :</p>
<ul>
<li>a count of the number of news received by the central agency</li>
<li>a news filter for the specialized agencies</li>
<li>...</li>
</ul>
<p>First, we'll define the different types of NEWS :</p>
<img src="images/varbehavs002.png" width=600, border="3">

<p>Then, we'll define the NewsAgency statemachine as follows (notice the use of "@on_write" to implement the counter) :</p>
<img src="images/varbehavs003.png" width=600, border="3">

<p>We'll use the <a href="../1_machines/1_1_design.html">model-instance paradigm</a> to define the Specialized agencies; the different instances having different specializations (notice the use of "@on_write" as a filter) :</p>
<img src="images/varbehavs004.png" width=800, border="3">

<p>Finally, we'll create an instance of SpecializedAgency and connect all the machines :</p>
<img src="images/varbehavs005.png" width=800, border="3">

<p>The resulting system's graph is the following :</p>
<img src="images/varbehavs006.png" width=700, border="3">

<p>When executing an exploration, we get the following exploration graph :</p>
<img src="images/varbehavs007.png" width=1100, border="3">

<p></p>

<p></p>
<p></p>
<p></p>
<p></p>
<p></p>

<p></p>
<p></p>


</body>
</html>